/* Good Call Travel - Cotizador de Vuelos */

:root {
    --primary: #1a56db;
    --primary-dark: #1e40af;
    --primary-light: #3b82f6;
    --green: #059669;
    --green-bg: #d1fae5;
    --amber: #d97706;
    --amber-bg: #fef3c7;
    --red: #dc2626;
    --sky: #0284c7;
    --text-1: #111827;
    --text-2: #4b5563;
    --text-3: #9ca3af;
    --surface-1: #fff;
    --surface-2: #f8fafc;
    --surface-3: #f1f5f9;
    --border: #e2e8f0;
    --border-light: #f1f5f9;
    --radius-sm: 4px;
    --radius-md: 8px;
    --radius-lg: 12px;
    --shadow-sm: 0 1px 2px rgb(0 0 0/.06);
    --shadow-md: 0 4px 12px rgb(0 0 0/.08);
    --shadow-lg: 0 12px 24px rgb(0 0 0/.1);
}

*, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    font-size: 14px;
    line-height: 1.5;
    color: var(--text-1);
    background: var(--surface-2);
    -webkit-font-smoothing: antialiased;
}

button { font-family:inherit; cursor:pointer; }
input, select { font-family:inherit; }
img { display:block; max-width:100%; }

.container { max-width:1200px; margin:0 auto; padding:0 1.5rem; }

/* Header */
.main-header {
    background: var(--surface-1);
    border-bottom: 1px solid var(--border);
    position: sticky; top:0; z-index:1000;
    box-shadow: var(--shadow-sm);
}
.header-content { display:flex; align-items:center; justify-content:space-between; padding:1rem 0; gap:2rem; }
.logo h1 { font-size:1.5rem; font-weight:800; color:var(--primary); letter-spacing:-.5px; }
.logo .tagline { font-size:.7rem; color:var(--text-2); font-weight:600; text-transform:uppercase; letter-spacing:1.5px; }
.logo-img { height:36px; }
.main-nav { display:flex; gap:.5rem; }
.nav-btn { display:flex; align-items:center; gap:.5rem; padding:.5rem 1rem; border:1px solid transparent; border-radius:var(--radius-md); background:transparent; color:var(--text-2); font-size:.875rem; font-weight:500; transition:all .2s; }
.nav-btn:hover { background:var(--surface-3); color:var(--text-1); }
.nav-btn.active { background:var(--primary); color:#fff; }
.nav-btn svg { width:20px; height:20px; flex-shrink:0; }
.header-actions { display:flex; gap:1rem; }
.btn-outline { padding:.5rem 1.5rem; border:1px solid var(--border); border-radius:var(--radius-md); background:#fff; color:var(--text-1); font-weight:500; transition:all .2s; }
.btn-outline:hover { border-color:var(--primary); color:var(--primary); }

/* Search */
.search-section {
    background: linear-gradient(135deg, #0f2b46 0%, #1a4a6e 50%, #0d3a5c 100%);
    padding: 3rem 0; min-height:380px; display:flex; align-items:center;
}
.search-card { background:#fff; border-radius:var(--radius-lg); padding:2rem; box-shadow:var(--shadow-lg); }
.search-title { font-size:1.5rem; font-weight:700; margin-bottom:1.5rem; }
.trip-type-selector { display:flex; gap:1rem; margin-bottom:1.5rem; padding-bottom:1.5rem; border-bottom:1px solid var(--border-light); }
.trip-type-option { display:flex; align-items:center; gap:.5rem; cursor:pointer; font-weight:500; color:var(--text-2); }
.trip-type-option input[type="radio"] { width:18px; height:18px; accent-color:var(--primary); cursor:pointer; }
.trip-type-option input:checked + span { color:var(--primary); font-weight:600; }
.trip-type-option input:disabled + span { opacity:.4; }

.search-form { display:flex; flex-direction:column; gap:1.5rem; }
.form-row { display:grid; gap:1rem; align-items:end; }
.form-row--locations { grid-template-columns:1fr auto 1fr; }
.form-row--details { grid-template-columns:repeat(3,1fr); }
.form-group { display:flex; flex-direction:column; gap:.5rem; position:relative; }
.form-group label { font-size:.875rem; font-weight:600; color:var(--text-2); }
.input-wrapper { position:relative; display:flex; align-items:center; }
.input-icon { position:absolute; left:1rem; color:var(--text-3); pointer-events:none; }
.input-wrapper input, .input-wrapper select { width:100%; padding:.75rem 1rem .75rem 2.75rem; border:1px solid var(--border); border-radius:var(--radius-md); font-size:.875rem; transition:all .2s; background:#fff; }
.input-wrapper input:focus { outline:none; border-color:var(--primary); box-shadow:0 0 0 3px rgb(26 86 219/.1); }
.swap-btn { display:flex; align-items:center; justify-content:center; width:40px; height:40px; border:1px solid var(--border); border-radius:50%; background:#fff; color:var(--text-2); transition:all .2s; flex-shrink:0; }
.swap-btn:hover { background:var(--primary); color:#fff; border-color:var(--primary); transform:rotate(180deg); }

.passengers-input { cursor:pointer; }
.passengers-input input { cursor:pointer; caret-color:transparent; }
.dropdown-icon { position:absolute; right:1rem; color:var(--text-3); pointer-events:none; }
.passengers-dropdown { position:absolute; top:100%; left:0; right:0; margin-top:.5rem; background:#fff; border:1px solid var(--border); border-radius:var(--radius-md); padding:1rem; box-shadow:var(--shadow-md); z-index:100; display:none; }
.passengers-dropdown.active { display:block; }
.passenger-row { display:flex; justify-content:space-between; align-items:center; padding:.75rem 0; }
.passenger-row:not(:last-child) { border-bottom:1px solid var(--border-light); }
.passenger-label span { font-weight:600; color:var(--text-1); }
.passenger-label small { font-size:.75rem; color:var(--text-2); display:block; }
.counter { display:flex; align-items:center; gap:1rem; }
.counter-btn { width:32px; height:32px; border:1px solid var(--border); border-radius:50%; background:#fff; color:var(--text-1); font-size:1.1rem; font-weight:600; display:flex; align-items:center; justify-content:center; transition:all .2s; }
.counter-btn:hover:not(:disabled) { background:var(--primary); color:#fff; border-color:var(--primary); }
.counter-btn:disabled { opacity:.3; cursor:not-allowed; }
.counter span { min-width:20px; text-align:center; font-weight:600; }

.form-actions { margin-top:1rem; }
.btn-primary { display:inline-flex; align-items:center; justify-content:center; gap:.5rem; padding:1rem 2rem; border:none; border-radius:var(--radius-md); background:var(--primary); color:#fff; font-size:.875rem; font-weight:600; transition:all .2s; }
.btn-primary:hover:not(:disabled) { background:var(--primary-dark); transform:translateY(-1px); box-shadow:var(--shadow-md); }
.btn-primary:disabled { opacity:.5; cursor:not-allowed; }
.btn-large { padding:1rem 2rem; font-size:1rem; width:100%; }

/* Results */
.results-section { padding:2rem 0; }
.loading-state { text-align:center; padding:3rem; }
.spinner { width:48px; height:48px; border:4px solid var(--border-light); border-top-color:var(--primary); border-radius:50%; animation:spin .8s linear infinite; margin:0 auto 1rem; }
@keyframes spin { to { transform:rotate(360deg); } }
.loading-state p { color:var(--text-2); font-weight:500; }

.results-header { display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:2rem; padding-bottom:1.5rem; border-bottom:1px solid var(--border); }
.results-info h3 { font-size:1.25rem; font-weight:700; margin-bottom:.25rem; }
.results-info p { font-size:.875rem; color:var(--text-2); }
.results-filters { display:flex; align-items:center; gap:1.5rem; }
.filter-group { display:flex; align-items:center; gap:.5rem; }
.filter-group label { font-size:.875rem; color:var(--text-2); font-weight:500; }
.filter-select { padding:.5rem 1rem; border:1px solid var(--border); border-radius:var(--radius-md); background:#fff; font-size:.875rem; font-weight:500; cursor:pointer; }
.checkbox-label { display:flex; align-items:center; gap:.5rem; cursor:pointer; font-size:.875rem; color:var(--text-2); }
.checkbox-label input { width:18px; height:18px; accent-color:var(--primary); }

.results-grid { display:grid; grid-template-columns:1fr 360px; gap:2rem; }
.flights-list { display:flex; flex-direction:column; gap:2rem; }
.flight-section { display:flex; flex-direction:column; gap:1rem; }
.section-title { font-size:1.1rem; font-weight:700; padding-bottom:.75rem; border-bottom:2px solid var(--border-light); }
.flights-container { display:flex; flex-direction:column; gap:.75rem; }

/* ==========================================
   FLIGHT CARD - diseño expandible
   ========================================== */

.flight-card {
    background: #fff;
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    overflow: hidden;
    transition: all .2s;
    cursor: pointer;
}
.flight-card:hover { box-shadow:var(--shadow-md); border-color:var(--primary-light); }
.flight-card.selected { border-color:var(--primary); box-shadow:0 0 0 2px rgb(26 86 219/.12); }

/* Parte superior siempre visible */
.flight-card__summary {
    display: flex;
    align-items: center;
    padding: 1.25rem 1.5rem;
    gap: 1.25rem;
}

.flight-card__airline {
    display: flex;
    align-items: center;
    gap: .75rem;
    min-width: 180px;
}
.airline-logo {
    width: 36px; height: 36px;
    border-radius: var(--radius-sm);
    object-fit: contain;
    border: 1px solid var(--border-light);
    background: #fff;
    flex-shrink: 0;
}
.airline-logo-placeholder {
    width: 36px; height: 36px;
    border-radius: var(--radius-sm);
    background: var(--surface-3);
    display: flex; align-items: center; justify-content: center;
    color: var(--text-3); font-size: .65rem; font-weight: 700;
    flex-shrink: 0;
    border: 1px solid var(--border-light);
}
.airline-text .airline-name { font-weight: 600; font-size: .9rem; color: var(--text-1); }
.airline-text .flight-number { font-size: .75rem; color: var(--text-2); }

.flight-card__schedule {
    display: flex;
    align-items: center;
    gap: 1rem;
    flex: 1;
}
.flight-card__time { text-align: center; }
.flight-card__time .time { font-size: 1.2rem; font-weight: 700; }
.flight-card__time .airport-code { font-size: .8rem; color: var(--text-2); }

.flight-card__duration {
    display: flex; flex-direction: column;
    align-items: center; gap: .35rem;
    min-width: 90px; flex: 1;
}
.duration-line { width: 100%; height: 2px; background: var(--border); position: relative; }
.duration-line::after { content:''; position:absolute; right:-3px; top:-3px; width:8px; height:8px; border-radius:50%; background:var(--border); }
.duration-text { font-size:.75rem; color:var(--text-2); white-space:nowrap; }
.stops-text { font-size:.7rem; color:var(--green); font-weight:600; }
.stops-text.has-stops { color:var(--amber); }

.flight-card__price {
    text-align: right; min-width: 100px;
}
.flight-card__price .price-label { font-size:.7rem; color:var(--text-3); }
.flight-card__price .price-amount { font-size:1.4rem; font-weight:700; color:var(--primary); }

/* Badges */
.flight-card__badges { display:flex; gap:.4rem; padding:0 1.5rem .75rem; }
.badge { display:inline-flex; align-items:center; gap:3px; padding:3px 8px; border-radius:var(--radius-sm); font-size:.7rem; font-weight:600; }
.badge-direct { background:var(--green-bg); color:#065f46; }
.badge-cheapest { background:var(--amber-bg); color:#92400e; }

/* Toggle de detalle */
.flight-card__toggle {
    display: flex; align-items: center; justify-content: center;
    padding: .5rem; border-top: 1px solid var(--border-light);
    background: var(--surface-2); transition: all .2s;
    font-size: .75rem; color: var(--text-2); gap: .35rem;
}
.flight-card__toggle svg { transition: transform .2s; width:16px; height:16px; }
.flight-card.expanded .flight-card__toggle svg { transform: rotate(180deg); }

/* Detalle expandible */
.flight-card__detail {
    display: none;
    border-top: 1px solid var(--border);
    background: var(--surface-2);
    padding: 1.25rem 1.5rem;
}
.flight-card.expanded .flight-card__detail { display: block; }

.detail-header {
    display: flex; align-items: center; gap: .75rem;
    margin-bottom: 1rem;
}
.detail-header .fare-badge {
    display: inline-block;
    padding: 3px 10px;
    background: var(--primary);
    color: #fff;
    font-size: .7rem;
    font-weight: 700;
    border-radius: var(--radius-sm);
    text-transform: uppercase;
    letter-spacing: .5px;
}
.detail-header span { font-size: .85rem; font-weight: 600; color: var(--text-1); }

/* Ruta detallada */
.detail-route {
    display: flex;
    flex-direction: column;
    gap: .5rem;
    margin-bottom: 1.25rem;
    padding-left: .5rem;
    border-left: 2px solid var(--primary-light);
}
.detail-route__stop {
    display: flex; align-items: flex-start; gap: .75rem;
    position: relative; padding-left: .75rem;
}
.detail-route__stop::before {
    content: '';
    position: absolute; left: -6px; top: 6px;
    width: 10px; height: 10px;
    border-radius: 50%;
    background: var(--primary);
}
.detail-route__stop .stop-time { font-weight: 700; font-size: .85rem; min-width: 80px; }
.detail-route__stop .stop-airport { font-size: .8rem; color: var(--text-2); }

.detail-meta {
    font-size: .75rem; color: var(--text-2);
    margin-bottom: 1.25rem; padding-left: 1.25rem;
    line-height: 1.8;
}

/* Sección de equipaje */
.detail-baggage {
    display: flex;
    flex-direction: column;
    gap: .5rem;
    padding-top: 1rem;
    border-top: 1px solid var(--border);
}
.detail-baggage__title {
    font-size: .8rem; font-weight: 600; color: var(--text-1);
    margin-bottom: .25rem;
}
.baggage-item {
    display: flex;
    align-items: center;
    gap: .6rem;
    font-size: .8rem;
    padding: .35rem 0;
}
.baggage-icon {
    width: 22px; height: 22px;
    flex-shrink: 0;
}
.baggage-icon.included { color: var(--green); }
.baggage-icon.not-included { color: var(--text-3); }
.baggage-item .baggage-text { color: var(--text-1); }
.baggage-item .baggage-text.not-included { color: var(--text-3); }

/* Empty/price sidebar */
.empty-state { text-align:center; padding:3rem; color:var(--text-2); }
.empty-state svg { width:64px; height:64px; color:var(--text-3); margin-bottom:1rem; }
.empty-state h3 { font-size:1.25rem; color:var(--text-1); margin-bottom:.5rem; }

.price-sidebar { position:sticky; top:80px; height:fit-content; }
.price-card { background:#fff; border:1px solid var(--border); border-radius:var(--radius-lg); padding:1.5rem; }
.price-badge { display:inline-block; padding:4px 1rem; background:linear-gradient(135deg,#0f2b46,#1a4a6e); color:#fff; font-size:.7rem; font-weight:700; text-transform:uppercase; letter-spacing:.5px; border-radius:var(--radius-sm); margin-bottom:1.25rem; }
.price-card h4 { font-size:1.1rem; font-weight:700; margin-bottom:.5rem; }
.price-subtitle { font-size:.85rem; color:var(--text-2); margin-bottom:1.5rem; }
.price-breakdown { margin-bottom:1.5rem; padding:1rem; background:var(--surface-2); border-radius:var(--radius-md); }
.price-row { display:flex; justify-content:space-between; align-items:center; padding:.5rem 0; font-size:.875rem; }
.price-row:not(:last-child) { border-bottom:1px solid var(--border-light); }
.price-row.total { font-size:1.1rem; font-weight:700; padding-top:1rem; border-top:2px solid var(--border); }
.text-muted { color:var(--text-3); font-size:.85rem; }

.fare-options { margin-bottom:1.5rem; }
.fare-options-title { font-size:.95rem; font-weight:600; margin-bottom:.75rem; }
.fare-option { border:1px solid var(--border); border-radius:var(--radius-md); padding:1rem; margin-bottom:.5rem; cursor:pointer; transition:all .2s; }
.fare-option:hover { border-color:var(--primary-light); }
.fare-option.selected { border-color:var(--primary); background:rgb(26 86 219/.04); }
.fare-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:.5rem; }
.fare-name { font-weight:600; font-size:.85rem; }
.fare-price { font-weight:700; color:var(--primary); }
.fare-features { list-style:none; font-size:.75rem; color:var(--text-2); }
.fare-features li { padding:2px 0; display:flex; align-items:center; gap:.5rem; }
.fare-features li::before { content:'\2713'; color:var(--green); font-weight:bold; }
.fare-features li.excluded { color:var(--text-3); }
.fare-features li.excluded::before { content:'\2717'; color:var(--text-3); }

.help-text { font-size:.75rem; color:var(--text-2); margin-top:1rem; }

/* Footer */
.main-footer { background:var(--text-1); color:#fff; padding:2rem 0; margin-top:3rem; }
.main-footer .container { display:flex; justify-content:space-between; align-items:center; }
.main-footer p { font-size:.85rem; opacity:.8; }
.footer-links { display:flex; gap:1.5rem; }
.footer-links a { color:rgb(255 255 255/.7); text-decoration:none; font-size:.85rem; transition:all .2s; }
.footer-links a:hover { color:#fff; }

/* Responsive */
@media (max-width:1024px) {
    .results-grid { grid-template-columns:1fr; }
    .price-sidebar { position:static; }
}
@media (max-width:768px) {
    .header-content { flex-wrap:wrap; }
    .main-nav { order:3; width:100%; }
    .nav-btn span { display:none; }
    .form-row--locations, .form-row--details { grid-template-columns:1fr; }
    .swap-btn { display:none; }
    .flight-card__summary { flex-wrap:wrap; gap:.75rem; }
    .flight-card__airline { min-width:auto; }
    .flight-card__schedule { flex-wrap:wrap; }
    .results-header { flex-direction:column; gap:1rem; }
    .results-filters { width:100%; flex-direction:column; align-items:flex-start; }
    .search-section { padding:2rem 0; min-height:auto; }
    .search-card { padding:1.25rem; }
    .main-footer .container { flex-direction:column; gap:1rem; text-align:center; }
}
